{"version":3,"sources":["../../src/pages/list/reactive-list-label/reactive-list-label.module.ts","../../src/pages/list/reactive-list-label/reactive-list-label.ts","../../src/pages/list/reactive-list-label/list-data.ts","../../src/directives/directives.module.ts","../../src/directives/is-visible/is-visible.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ReactiveListLabelPage } from './reactive-list-label';\nimport { DirectivesModule } from '../../../directives/directives.module';\n\n@NgModule({\n  declarations: [\n    ReactiveListLabelPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ReactiveListLabelPage),\n    DirectivesModule\n  ],\n})\nexport class ReactiveListLabelPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/reactive-list-label/reactive-list-label.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { LIST_DATA, IDataList } from './list-data';\n\n@IonicPage()\n@Component({\n  selector: 'page-reactive-list-label',\n  templateUrl: 'reactive-list-label.html'\n})\nexport class ReactiveListLabelPage {\n  public dataList = LIST_DATA;\n  public currentCategory: string = '';\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private ngZone: NgZone\n  ) {}\n\n  public itemIsVisible($event, book: IDataList) {\n    console.log(book, $event);\n    book.visible = $event;\n    this.setCategory();\n  }\n\n  private setCategory() {\n    const obj = {};\n    let qtdVisibleCategory = 0;\n    let higherCategory = '';\n    this.dataList\n      .filter(bk => bk.visible)\n      .forEach(\n        bk => (obj[bk.category] = obj[bk.category] ? obj[bk.category] + 1 : 1)\n      );\n    for (const key in obj) {\n      if (obj[key] > qtdVisibleCategory) {\n        qtdVisibleCategory = obj[key];\n        higherCategory = key;\n      }\n    }\n    console.log(obj);\n    this.ngZone.runOutsideAngular(() => {\n      this.ngZone.run(() => {\n        this.currentCategory = higherCategory;\n      });\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ReactiveListLabelPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/reactive-list-label/reactive-list-label.ts","export interface IDataList {\n  productName: string;\n  author: string;\n  pictureProduct: string;\n  category: string;\n  price: number;\n  visible?: boolean;\n}\n\nexport const LIST_DATA: IDataList[] = [\n  {\n    productName: `Beneath a Scarlet Sky: A Novel`,\n    author: 'Mark Sullivan',\n    pictureProduct: './assets/img/reactive-list-labels/beneath _scarlet.jpg',\n    category: 'Literature & Fiction',\n    price: 5.99\n  },\n  {\n    productName: `The Orphan's Tale: A Novel`,\n    author: 'Pam Jenoff',\n    pictureProduct: './assets/img/reactive-list-labels/the_orphan_tale.jpg',\n    category: 'Literature & Fiction',\n    price: 10.37\n  },\n  {\n    productName: 'All the Light We Cannot See: A Novel',\n    author: 'Anthony Doerr',\n    pictureProduct: './assets/img/reactive-list-labels/all_light_we_cannot_see.jpeg',\n    category: 'Literature & Fiction',\n    price: 12.99\n  },\n  {\n    productName: 'Rules of Civility: A Novel',\n    author: 'Rules of Civility: A Novel',\n    pictureProduct: './assets/img/reactive-list-labels/rules_civility.jpg',\n    category: 'Literature & Fiction',\n    price: 11.79\n  },\n  {\n    productName: 'The Glass Castle: A Memoir',\n    author: 'Jeannette Walls',\n    pictureProduct: './assets/img/reactive-list-labels/the_glass_castle.jpg',\n    category: 'Biographies & Memoirs',\n    price: 5.14\n  },\n  {\n    productName: 'Born a Crime: Stories from a South African Childhood',\n    author: 'Trevor Noah',\n    pictureProduct: './assets/img/reactive-list-labels/born_a_crime.jpg',\n    category: 'Biographies & Memoirs',\n    price: 6.0\n  },\n  {\n    productName: 'Al Franken, Giant of the Senate',\n    author: 'Al Franken',\n    pictureProduct: './assets/img/reactive-list-labels/giant_of_the_senate.jpg',\n    category: 'Biographies & Memoirs',\n    price: 6.39\n  },\n  {\n    productName: 'Pandemic (The Extinction Files Book 1)',\n    author: 'A.G. Riddle',\n    pictureProduct: './assets/img/reactive-list-labels/pandemic.jpg',\n    category: 'Biographies & Memoirs',\n    price: 5.47\n  },\n  {\n    productName: 'Origin: A Novel',\n    author: 'Dan Brown',\n    pictureProduct: './assets/img/reactive-list-labels/origin.jpg',\n    category: 'Suspense',\n    price: 10.99\n  },\n  {\n    productName: 'The Rooster Bar',\n    author: 'John Grisham',\n    pictureProduct: './assets/img/reactive-list-labels/the_rooster_bar.jpg',\n    category: 'Suspense',\n    price: 10.99\n  },\n  {\n    productName: 'The Life We Bury',\n    author: 'Dan Brown',\n    pictureProduct: './assets/img/reactive-list-labels/the_life_we_bury.jpg',\n    category: 'Suspense',\n    price: 10.99\n  }\n];\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/reactive-list-label/list-data.ts","import { NgModule } from '@angular/core';\nimport { IsVisibleDirective } from './is-visible/is-visible';\n@NgModule({\n\tdeclarations: [IsVisibleDirective],\n\timports: [],\n\texports: [IsVisibleDirective]\n})\nexport class DirectivesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/directives.module.ts","import { Directive, EventEmitter, Output, Input, ElementRef, OnInit } from '@angular/core';\n\nimport { Content } from 'ionic-angular';\n\n@Directive({\n  selector: '[is-visible]'\n})\nexport class IsVisibleDirective implements OnInit {\n\n  @Output('visible') emitVisible: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  @Input('content') content: Content;\n  @Input('threshold') threshold: number = 0;\n\n  private rect: any;\n  private height: number;\n\n  constructor(public el: ElementRef) {\n  }\n\n  public isVisable() {\n    this.rect = this.el.nativeElement.getBoundingClientRect();\n    const bottom = this.getBottom();\n    const top = this.getTop();\n    const above = bottom < 0;\n    const below = (top - this.height) >= 0;\n    const isVisible = !above && !below;\n    this.emitVisible.emit(isVisible);\n  }\n\n  public initProp() {\n    this.height = this.el.nativeElement.offsetParent.clientHeight;\n  }\n\n  public initListener() {\n    this.content.ionScroll.subscribe(() => {\n      this.isVisable();\n    });\n  }\n\n  private getBottom() {\n    return this.threshold ? this.rect.bottom - ((this.threshold / 100) * this.rect.bottom) : this.rect.bottom;\n  }\n\n  private getTop() {\n    return this.threshold ? this.rect.top - ((this.threshold / 100) * this.rect.top) : this.rect.top;\n  }\n\n  ngOnInit() {\n    this.initProp();\n    this.initListener();\n    this.isVisable();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/is-visible/is-visible.ts"],"sourceRoot":""}